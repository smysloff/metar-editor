!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function t(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(e,n){return e.get(t(e,n))}function r(e,t,a){n(e,t),t.set(e,a)}function i(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw i}}}}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,u=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(o=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{if(!o&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw r}}return u}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(t,n){if(t){if("string"==typeof t)return e(t,n);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}var f=new WeakMap,h=new WeakMap,m=new WeakSet,v=function(){return i((function e(i){var l,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(l=this,o=m),o.add(l),r(this,f,["text","date","time","radio","checkbox"]),r(this,h,["click","input"]),u(this,"root",null),u(this,"output",null),u(this,"elements",null),u(this,"forms",{input:null,output:null}),u(this,"result",new Map),u(this,"registry",new Map),this.root=document.querySelector(i),this.root||console.warn("can't find a form 'root' with selector ".concat(i));var c=Array.from(this.root.children).filter((function(e){return"FORM"===e.tagName}));this.forms.input=null==c?void 0:c.find((function(e){return e.name.match(/input/i)})),this.forms.output=null==c?void 0:c.find((function(e){return e.name.match(/output/i)})),this.forms.input||console.warn("can't find 'input' form in 'root' element ".concat(i)),this.forms.output||console.warn("can't find 'output' form in 'root' element ".concat(i)),this.elements=this.forms.input.elements,this.output=this.forms.output.elements.output,a(h,this).forEach((function(e){return s.forms.input.addEventListener(e,(function(e){return t(m,s,p).call(s,e)}))}))}),[{key:"updateResult",value:function(){t(m,this,y).call(this)}},{key:"addHandler",value:function(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(m,this,_).call(this,e,a),t(m,this,U).call(this,e);var r=t(m,this,b).call(this,null!==(n=a.element)&&void 0!==n?n:e),i=t(m,this,g).call(this,e,a);t(m,this,w).call(this,r,i),t(m,this,k).call(this,r,a),t(m,this,S).call(this,r,a)}}])}();function p(e){var n=Array.from(this.elements).find((function(t){return t===e.target}));if(n&&("click"!==e.type||!(n instanceof HTMLInputElement&&a(f,this).includes(n.type)||n instanceof HTMLSelectElement))){var r=this.registry.get(n);if(r){var i=r.name,l=r.callbacks,u=l.format,o=l.auxiliary,s=l.update;if(u&&(n.value=u.call(this,n.value,n)),o&&o.call(this,n.value,n),s){var c=s.call(this,n.value,n);this.result.set(i,c)}t(m,this,y).call(this)}}}function y(){var e,t=[],n=l(this.result);try{for(n.s();!(e=n.n()).done;){var a=o(e.value,2),r=(a[0],a[1].trim());""!==r&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}var i=t.join(" ");this.output instanceof HTMLInputElement?this.output.value=i:this.output.textContent=i}function _(e,t){if("string"!=typeof e||""===e)throw new TypeError("AMTK_Form::addHandler must be a non empty string")}function U(e){this.result.has(e)||this.result.set(e,"")}function b(e){return Array.from(this.elements).filter((function(t){return t.name===e}))}function g(e,t){return{name:e,callbacks:{format:t.format,auxiliary:t.auxiliary,update:t.update}}}function w(e,t){var n=this;e.forEach((function(e){return n.registry.set(e,t)}))}function H(e){var t=this.registry.get(e);this.result.set(t.name,e.value)}function k(e,n){var a=n.checked;if(a){if("string"==typeof a&&(a=[a]),!Array.isArray(a))throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var r,i=l(a);try{for(i.s();!(r=i.n()).done;){var u=r.value;if("string"!=typeof u)throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var o,s=l(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;c instanceof HTMLInputElement&&["checkbox","radio"].includes(c.type)&&c.value===u&&(c.checked=!0,t(m,this,H).call(this,c))}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}t(m,this,y).call(this)}}function S(e,n){var a=n.init;a&&(a.call(this,e),t(m,this,y).call(this))}function E(){var e,t="",n=l(this.elements.type);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.checked){t+=a.value;break}}}catch(e){n.e(e)}finally{n.f()}return t}var x=["HKHB","HRYR","TAPT","UEEA","UEEE","UELL","UERP","UERR","UESO","UESS","UEST","UHBB","UHBI","UHBW","UHHH","UHKK","UHMA","UHMD","UHMM","UHMP","UHNN","UHOO","UHPP","UHSS","UHWW","UIAA","UIBB","UIBS","UIII","UITT","UIUU","ULAA","ULAM","ULAS","ULBC","ULDD","ULKK","ULLI","ULMK","ULMM","ULNN","ULOL","ULOO","ULPB","ULSS","ULWU","ULWW","UMKK","UNAA","UNBB","UNEE","UNII","UNKL","UNKS","UNKY","UNNT","UNOO","UNSS","UNTT","UNWW","UODD","UOHH","UOII","URKA","URKG","URKK","URMG","URML","URMM","URMN","URMO","URMT","URRR","URRY","URSS","URWA","URWI","URWW","USCC","USCM","USDD","USHU","USII","USKK","USMM","USMU","USNN","USNR","USPP","USRK","USRN","USRO","USRR","USSS","USTJ","USTO","USTR","USUU","UUBA","UUBB","UUBC","UUBI","UUBK","UUBP","UUBS","UUBT","UUDD","UUDL","UUEE","UUEM","UUOB","UUOK","UUOL","UUOO","UUOR","UUOT","UUWR","UUWW","UUYH","UUYI","UUYP","UUYS","UUYW","UUYY","UWGG","UWKB","UWKD","UWKE","UWKJ","UWKS","UWLW","UWOO","UWOR","UWPP","UWPS","UWSB","UWSS","UWUB","UWUF","UWUK","UWUU","UWWW"];function N(){this.elements.icao.value=""}function M(){var e=this.elements.icao_variants,t=document.createElement("option");t.textContent="Не найдено",t.disabled=!0,t.selected=!0,e.options.length=0,e.add(t)}function T(){N.call(this),M.call(this)}function W(){var e=this.elements.icao,t=this.elements.icao_variants,n=e.value;if(0!==n.length){M.call(this);var a,r=l(x);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.startsWith(n)){var u=document.createElement("option");u.value=i,u.textContent=i,t.add(u)}}}catch(e){r.e(e)}finally{r.f()}}else T.call(this)}function I(){var e=this.elements.icao.value;return 4===e.length?e:""}function A(e,t){return t.checked?e:""}function L(){var e,t,n=this.elements,a=n.date,r=n.time,i=null===(e=a.value)||void 0===e||null===(e=e.split("-"))||void 0===e?void 0:e.at(-1),l=null===(t=r.value)||void 0===t||null===(t=t.split(":"))||void 0===t?void 0:t.join("");return i&&l?"".concat(i).concat(l,"Z"):""}function R(){var e=this.elements,t=e.date,n=e.time,a=new Date,r=a.getUTCFullYear(),i=(a.getUTCMonth()+1).toString().padStart(2,"0"),l=a.getUTCDate().toString().padStart(2,"0"),u=a.getUTCHours().toString().padStart(2,"0"),o=a.getUTCMinutes().toString().padStart(2,"0");t.value="".concat(r,"-").concat(i,"-").concat(l),n.value="".concat(u,":").concat(o)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.elements[e].checked=!1,t&&this.result.set(e,"")}function C(e,t){t.checked&&(O.call(this,"cor",!0),O.call(this,"auto",!0))}function D(e){return this.elements.nil.checked?e:""}function K(e,t){t.checked&&O.call(this,"nil",!0)}function B(e){return this.elements.auto.checked?e:""}function P(){var e=this.elements,t=e.direction,n=e.speed,a=e.gust,r=this.elements;r.direction_range,r.speed_range,r.gust_range;var i=this.elements,u=i.units;i.vrb;var o="";if(""===t.value||""===n.value)return o;o+="".concat(t.value.padStart(3,"0")).concat(n.value.padStart(2,"0")),Number(a.value)>Number(n.value)&&(o+="G".concat(a.value));var s,c=l(u);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(d.checked){o+="".concat(d.value);break}}}catch(e){c.e(e)}finally{c.f()}return o}function j(e,t){var n=this.elements,a=n.direction,r=n.speed,i=n.gust,l=this.elements,u=l.direction_range,o=l.speed_range,s=l.gust_range;switch(t){case u:a.value="-10"===e?"":parseInt(e);break;case o:r.value="-1"===e?"":parseInt(e);break;case s:i.value="-1"===e?"":parseInt(e)}}for(var Y=[-1],G=0;G<800;G+=50)Y.push(G);for(var F=800;F<5e3;F+=100)Y.push(F);for(var Z=5e3;Z<1e4;Z+=1e3)Y.push(Z);function q(){var e=this.elements.visibility.value;return""===e?"":e.padStart(4,"0")}function J(e){var t=this.elements.weather;""!==e&&(t.value+=e)}function z(){var e=this.elements.weather.value.trim();return e.length>1?e:""}function Q(e){var t=e.trim();if(""===t)return"";var n=t.substr(0,3).replace(/\D/,"");return Number(n)>120?120:n}function $(e,t){var n,a,r,i=this.elements,u=i.clouds_1,o=i.clouds_1_coverage,s=i.clouds_1_height,c=i.clouds_1_type,d=this.elements,f=d.clouds_2,h=d.clouds_2_coverage,m=d.clouds_2_height,v=d.clouds_2_type,p=this.elements,y=p.clouds_3,_=p.clouds_3_coverage,U=p.clouds_3_height,b=p.clouds_3_type,g=this.elements,w=g.clouds_4,H=g.clouds_4_coverage,k=g.clouds_4_height,S=g.clouds_4_type;if(u===t||o===t||s===t||Array.from(c).includes(t))n=u.value.trim(),a=o.value,r=c;else if(f===t||h===t||m===t||Array.from(v).includes(t))n=f.value.trim(),a=h.value,r=v;else if(y===t||_===t||U===t||Array.from(b).includes(t))n=y.value.trim(),a=_.value,r=b;else{if(w!==t&&H!==t&&k!==t&&!Array.from(S).includes(t))throw new TypeError("Unable to find the required cloud layer");n=w.value.trim(),a=H.value,r=S}if(""===n)return"";var E="";E+=a,E+=n.padStart(3,"0");var x,N=l(r);try{for(N.s();!(x=N.n()).done;){var M=x.value;M.checked&&(E+=M.value)}}catch(e){N.e(e)}finally{N.f()}return E}function V(e){this.elements.clouds_1_height.value=""===e?-1:+e}function X(e){this.elements.clouds_1.value=-1===+e?"":e}function ee(e){var t=this.elements,n=t.clouds_1,a=t.clouds_1_height,r=t.clouds_1_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function te(e,t){var n,a=l(this.elements.clouds_1_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function ne(e){this.elements.clouds_2_height.value=""===e?-1:+e}function ae(e){this.elements.clouds_2.value=-1===+e?"":e}function re(e){var t=this.elements,n=t.clouds_2,a=t.clouds_2_height,r=t.clouds_2_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function ie(e,t){var n,a=l(this.elements.clouds_2_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function le(e){this.elements.clouds_3_height.value=""===e?-1:+e}function ue(e){this.elements.clouds_3.value=-1===+e?"":e}function oe(e){var t=this.elements,n=t.clouds_3,a=t.clouds_3_height,r=t.clouds_3_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function se(e,t){var n,a=l(this.elements.clouds_3_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function ce(e){this.elements.clouds_4_height.value=""===e?-1:+e}function de(e){this.elements.clouds_4.value=-1===+e?"":e}function fe(e){var t=this.elements,n=t.clouds_4,a=t.clouds_4_height,r=t.clouds_4_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function he(e,t){var n,a=l(this.elements.clouds_4_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function me(e){if("-"===(e=e.trim()))return e;if(""===e||isNaN(e))return"";var t=+e.match(/-?\d?\d?/);return isNaN(t)&&e.startsWith("-")?"-":isNaN(t)?"":t<-80?-80:t>80?80:t}function ve(){var e=this.elements,t=e.temperature,n=e.dew_point;if(["","-"].includes(t.value)&&["","-"].includes(n.value))return"";var a=isNaN(+t.value)?"":t.value,r=isNaN(+n.value)?"":n.value,i="";return i+=""===a?"/":a.replace("-","M"),i+="/",i+=""===r?"/":r.replace("-","M")}function pe(e,t){var n=this.elements,a=n.temperature,r=n.dew_point,i=this.elements,l=i.temperature_range,u=i.dew_point_range,o=this.elements,s=o.temperature_minus,c=o.dew_point_minus,d=null,f=null;switch(t){case a:d=l,f=s;break;case r:d=u,f=c;break;default:throw new TypeError("unknown element")}if(!(d instanceof HTMLInputElement))throw new TypeError("not an input element");if(!(f instanceof HTMLInputElement))throw new TypeError("minusElement is not a proper HTMLInputElement");d.value=""===e||"-"===e?-1:Math.abs(e),f.checked=e.startsWith("-")}function ye(e,t){var n,a=this.elements,r=a.temperature,i=a.dew_point,l=this.elements,u=l.temperature_range,o=l.dew_point_range,s=this.elements,d=s.temperature_minus,f=s.dew_point_minus,h="",m="";switch(t){case u:h=r,m=d;break;case o:h=i,m=f;break;default:throw new Error("unknown element")}if(!(h instanceof HTMLInputElement&&"value"in h))throw new TypeError("linkedElement must be a typeof HTMLInputElement(text), but got ".concat(c(h)));if(!(m instanceof HTMLInputElement)||"checkbox"!==(null===(n=m)||void 0===n?void 0:n.type))throw new TypeError("minusElement must be a typeof HTMLInputElement(checkbox), but got ".concat(c(m)));h.value=e<0?"":m.checked?"-".concat(e):e}function _e(e,t){var n=e<900||e>1100?"":e;return""===n?"":"Q".concat(n)}Y.push(9999);var Ue={type:function(e){e.addHandler("type",{checked:"METAR",update:E})},icao:function(e){e.addHandler("icao",{format:function(e){return e.trim().toUpperCase().replace(/[^A-Z]/,"").substring(0,4)},auxiliary:W,update:I}),e.addHandler("icao",{element:"icao_variants",init:W,auxiliary:function(e){this.elements.icao.value=e},update:I})},cor:function(e){e.addHandler("cor",{update:A})},datetime:function(e){e.addHandler("datetime",{element:"date",update:L}),e.addHandler("datetime",{element:"time",update:L}),e.addHandler("datetime",{element:"current",auxiliary:R,update:L})},nil:function(e){e.addHandler("nil",{auxiliary:C,update:D})},auto:function(e){e.addHandler("auto",{auxiliary:K,update:B})},wind:function(e){e.addHandler("wind",{element:"calm",auxiliary:function(e,t){var n=this.elements.units,a=this.elements,r=a.direction,i=a.speed,l=a.gust,u=this.elements,o=u.direction_range,s=u.speed_range,c=u.gust_range;n.forEach((function(e){return e.disabled=t.checked})),r.disabled=t.checked,i.disabled=t.checked,l.disabled=t.checked,o.disabled=t.checked,s.disabled=t.checked,c.disabled=t.checked,t.checked&&(n.forEach((function(e){return e.checked="MPS"===e.value})),r.value="",i.value="",l.value="",o.value=-10,s.value=-1,c.value=-1)},update:function(e,t){return t.checked?"CALM":""}}),e.addHandler("wind",{element:"units",init:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.checked="MPS"===a.value}}catch(e){n.e(e)}finally{n.f()}},update:P}),e.addHandler("wind",{element:"direction",format:function(e){var t=parseInt(e.trim().replace(/\D/,"").substring(0,3));return isNaN(t)?"":t>360?360:t},auxiliary:function(e){this.elements.direction_range.value=""===e?-20:e},update:P}),e.addHandler("wind",{element:"speed",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.speed_range.value=e},update:P}),e.addHandler("wind",{element:"gust",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.gust_range.value=e},update:P}),e.addHandler("wind",{element:"direction_range",auxiliary:j,update:P}),e.addHandler("wind",{element:"speed_range",auxiliary:j,update:P}),e.addHandler("wind",{element:"gust_range",auxiliary:j,update:P})},cavok:function(e){e.addHandler("cavok",{element:"cavok",auxiliary:function(e,t){var n=this.result,a=this.elements,r=a.visibility,i=a.visibility_range,l=this.elements,u=l.weather,o=l.intensity,s=l.precipitation,c=l.phenomena,d=this.elements,f=d.clouds_1_coverage,h=d.clouds_1,m=d.clouds_1_type,v=d.clouds_1_height,p=this.elements,y=p.clouds_2_coverage,_=p.clouds_2,U=p.clouds_2_type,b=p.clouds_2_height,g=this.elements,w=g.clouds_3_coverage,H=g.clouds_3,k=g.clouds_3_type,S=g.clouds_3_height,E=this.elements,x=E.clouds_4_coverage,N=E.clouds_4,M=E.clouds_4_type,T=E.clouds_4_height;t.checked?(r.value="",i.value=-1,u.value="",o.forEach((function(e){return e.checked=!1})),s.value="",c.value="",f.value="NCD",h.value="",m.forEach((function(e){return e.checked=!1})),v.value=-1,y.value="NCD",_.value="",U.forEach((function(e){return e.checked=!1})),b.value=-1,w.value="NCD",H.value="",k.forEach((function(e){return e.checked=!1})),S.value=-1,x.value="NCD",N.value="",M.forEach((function(e){return e.checked=!1})),T.value=-1,r.disabled=!0,i.disabled=!0,u.disabled=!0,o.forEach((function(e){return e.disabled=!0})),s.disabled=!0,c.disabled=!0,f.disabled=!0,h.disabled=!0,m.forEach((function(e){return e.disabled=!0})),v.disabled=!0,y.disabled=!0,_.disabled=!0,U.forEach((function(e){return e.disabled=!0})),b.disabled=!0,w.disabled=!0,H.disabled=!0,k.forEach((function(e){return e.disabled=!0})),S.disabled=!0,x.disabled=!0,N.disabled=!0,M.forEach((function(e){return e.disabled=!0})),T.disabled=!0,n.set("visibility",""),n.set("weather",""),n.set("clouds_1",""),n.set("clouds_2",""),n.set("clouds_3",""),n.set("clouds_4","")):(r.disabled=!1,i.disabled=!1,u.disabled=!1,o.forEach((function(e){return e.disabled=!1})),s.disabled=!1,c.disabled=!1,f.disabled=!1,h.disabled=!1,m.forEach((function(e){return e.disabled=!1})),v.disabled=!1,y.disabled=!1,_.disabled=!1,U.forEach((function(e){return e.disabled=!1})),b.disabled=!1,w.disabled=!1,H.disabled=!1,k.forEach((function(e){return e.disabled=!1})),S.disabled=!1,x.disabled=!1,N.disabled=!1,M.forEach((function(e){return e.disabled=!1})),T.disabled=!1)},update:function(e,t){return t.checked?t.value:""}})},visibility:function(e){e.addHandler("visibility",{format:function(e){return e.trim().replace(/\D/,"").substring(0,4)},auxiliary:function(e){var t=this.elements.visibility_range;""===e&&(t.value=-1);var n=Number(e),a=n<800?50:n<5e3?100:n<9999?1e3:0,r=Y.at(-1);if(a>0){var i=Math.floor(n/a)*a;r=Y.indexOf(i)}t.value=r.toString()},update:q}),e.addHandler("visibility",{element:"visibility_range",init:function(e){var t=e[0];t.setAttribute("min",0),t.setAttribute("max",Y.length-1),t.value=Y[0]},auxiliary:function(e){e=+e,this.elements.visibility.value=0===e?"":Y[e]},update:q})},weather:function(e){e.addHandler("weather",{element:"weather",format:function(e){return e.toUpperCase().replace(/[^-+A-Z ]/,"")},auxiliary:function(e){var t,n=this.elements.intensity,a=e[0],r=l(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.checked=i.value===a}}catch(e){r.e(e)}finally{r.f()}},update:z}),e.addHandler("weather",{element:"intensity",auxiliary:function(e,t){var n,a="",r=this.elements,i=r.intensity,u=r.weather,o=l(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;s!==t&&(s.checked=!1),s.checked&&(a=s.value)}}catch(e){o.e(e)}finally{o.f()}u.value=u.value.replace(/^[+-]/,""),a&&(u.value=a+u.value)},update:z}),e.addHandler("weather",{element:"precipitation",auxiliary:J,update:z}),e.addHandler("weather",{element:"phenomena",auxiliary:J,update:z})},clouds:function(e){e.addHandler("clouds_1",{element:"clouds_1",format:Q,auxiliary:V,update:$}),e.addHandler("clouds_1",{element:"clouds_1_height",auxiliary:X,update:$}),e.addHandler("clouds_1",{element:"clouds_1_coverage",auxiliary:ee,update:$}),e.addHandler("clouds_1",{element:"clouds_1_type",auxiliary:te,update:$}),e.addHandler("clouds_2",{element:"clouds_2",format:Q,auxiliary:ne,update:$}),e.addHandler("clouds_2",{element:"clouds_2_height",auxiliary:ae,update:$}),e.addHandler("clouds_2",{element:"clouds_2_coverage",auxiliary:re,update:$}),e.addHandler("clouds_2",{element:"clouds_2_type",auxiliary:ie,update:$}),e.addHandler("clouds_3",{element:"clouds_3",format:Q,auxiliary:le,update:$}),e.addHandler("clouds_3",{element:"clouds_3_height",auxiliary:ue,update:$}),e.addHandler("clouds_3",{element:"clouds_3_coverage",auxiliary:oe,update:$}),e.addHandler("clouds_3",{element:"clouds_3_type",auxiliary:se,update:$}),e.addHandler("clouds_4",{element:"clouds_4",format:Q,auxiliary:ce,update:$}),e.addHandler("clouds_4",{element:"clouds_4_height",auxiliary:de,update:$}),e.addHandler("clouds_4",{element:"clouds_4_coverage",auxiliary:fe,update:$}),e.addHandler("clouds_4",{element:"clouds_4_type",auxiliary:he,update:$})},temperature:function(e){function t(e,t){var n=this.elements,a=n.temperature,r=n.dew_point,i="",l="";switch(t.checked&&(l+="-"),t.name){case"temperature_minus":i=a;break;case"dew_point_minus":i=r;break;default:throw TypeError("unknown element name")}l+=i.value.replace(/\D/,""),isNaN(l)||(i.value=l)}e.addHandler("temperature",{element:"temperature",format:me,auxiliary:pe,update:ve}),e.addHandler("temperature",{element:"dew_point",format:me,auxiliary:pe,update:ve}),e.addHandler("temperature",{element:"temperature_range",auxiliary:ye,update:ve}),e.addHandler("temperature",{element:"dew_point_range",auxiliary:ye,update:ve}),e.addHandler("temperature",{element:"temperature_minus",auxiliary:t,update:ve}),e.addHandler("temperature",{element:"dew_point_minus",auxiliary:t,update:ve})},pressure:function(e){e.addHandler("pressure",{format:function(e){var t=e.trim().replace(/\D/,"").substring(0,4);return""===t?"":Number(t)>1100?1100:t},auxiliary:function(e){this.elements.pressure_range.value=""===e||Number(e)<500?499:e},update:_e}),e.addHandler("pressure",{element:"pressure_range",auxiliary:function(e){this.elements.pressure.value=499===Number(e)?"":e},update:_e})},trend:function(e){e.addHandler("trend",{element:"trend_text",format:function(e){return e.trim().toUpperCase()},update:function(e){return e}})}},be=new v("#amtk_metar_editor");Ue.type(be),Ue.icao(be),Ue.cor(be),Ue.datetime(be),Ue.nil(be),Ue.auto(be),Ue.wind(be),Ue.cavok(be),Ue.visibility(be),Ue.weather(be),Ue.clouds(be),Ue.temperature(be),Ue.pressure(be),Ue.trend(be)}();