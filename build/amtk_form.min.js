"use strict";function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(t,r,n,a){var i=r&&r.prototype instanceof f?r:f,o=Object.create(i.prototype);return u(o,"_invoke",function(t,r,n){var a=1;return function(i,o){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var l=n.delegate;if(l){var u=b(l,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var s=c(t,r,n);if("normal"===s.type){if(a=n.done?4:2,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=4,n.method="throw",n.arg=s.arg)}}}(t,n,new E(a||[])),!0),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d={};function f(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==r&&n.call(y,i)&&(v=y);var _=p.prototype=f.prototype=Object.create(v);function U(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function r(a,i,o,l){var u=c(e[a],e,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==_typeof(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(u.arg)}var a;u(this,"_invoke",(function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}),!0)}function b(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,b(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(a,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var o=i.arg;return o?o.done?(r[t.r]=o.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function w(e){this.tryEntries.push(e)}function H(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function E(e){this.tryEntries=[[-1]],e.forEach(w,this),this.reset(!0)}function S(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return h.prototype=p,u(_,"constructor",p),u(p,"constructor",h),h.displayName=u(p,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},U(g.prototype),u(g.prototype,o,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new g(s(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},U(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(H),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){o.type="throw",o.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i[4],l=this.prev,u=i[1],s=i[2];if(-1===i[0])return n("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=l){if(l<u)return this.method="next",this.arg=e,n(u),!0;if(l<s)return n(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var i=a?a[4]:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),H(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;H(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r:r,n:n},"next"===this.method&&(this.arg=e),d}},t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return e.get(_assertClassBrand(e,t))}function _assertClassBrand(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var l=e[i](o),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){asyncGeneratorStep(i,n,a,o,l,"next",e)}function l(e){asyncGeneratorStep(i,n,a,o,l,"throw",e)}o(void 0)}))}}_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,a,i,o,l,u,s,c,d,f,h,p,v,m,y,_,U,g,b,w,H,E,S,k,x,I,T,O,P,M,N,A,C,R,W,L,B,F,K,D,j,G,Y,Z,q,J,z,Q,$,V,X,ee;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ee=function(e,t){var r=e<900||e>1100?"":e;return""===r?"":"Q".concat(r)},X=function(e,t){var r=this.elements,n=r.temperature,a=r.dew_point,i="",o="";switch(t.checked&&(o+="-"),t.name){case"temperature_minus":i=n;break;case"dew_point_minus":i=a;break;default:throw TypeError("unknown element name")}o+=i.value.replace(/\D/,""),isNaN(o)||(i.value=o)},V=function(e,t){var r,n=this.elements,a=n.temperature,i=n.dew_point,o=this.elements,l=o.temperature_range,u=o.dew_point_range,s=this.elements,c=s.temperature_minus,d=s.dew_point_minus,f="",h="";switch(t){case l:f=a,h=c;break;case u:f=i,h=d;break;default:throw new Error("unknown element")}if(!(f instanceof HTMLInputElement&&"value"in f))throw new TypeError("linkedElement must be a typeof HTMLInputElement(text), but got ".concat(_typeof(f)));if(!(h instanceof HTMLInputElement)||"checkbox"!==(null===(r=h)||void 0===r?void 0:r.type))throw new TypeError("minusElement must be a typeof HTMLInputElement(checkbox), but got ".concat(_typeof(h)));f.value=e<0?"":h.checked?"-".concat(e):e},$=function(e,t){var r=this.elements,n=r.temperature,a=r.dew_point,i=this.elements,o=i.temperature_range,l=i.dew_point_range,u=this.elements,s=u.temperature_minus,c=u.dew_point_minus,d=null,f=null;switch(t){case n:d=o,f=s;break;case a:d=l,f=c;break;default:throw new TypeError("unknown element")}if(!(d instanceof HTMLInputElement))throw new TypeError("not an input element");if(!(f instanceof HTMLInputElement))throw new TypeError("minusElement is not a proper HTMLInputElement");d.value=""===e||"-"===e?-1:Math.abs(e),f.checked=e.startsWith("-")},Q=function(){var e=this.elements,t=e.temperature,r=e.dew_point;if(["","-"].includes(t.value)&&["","-"].includes(r.value))return"";var n=isNaN(+t.value)?"":t.value,a=isNaN(+r.value)?"":r.value,i="";return i+=""===n?"/":n.replace("-","M"),i+="/",i+=""===a?"/":a.replace("-","M")},z=function(e){if("-"===(e=e.trim()))return e;if(""===e||isNaN(e))return"";var t=+e.match(/-?\d?\d?/);return isNaN(t)&&e.startsWith("-")?"-":isNaN(t)?"":t<-80?-80:t>80?80:t},J=function(e,t){var r,n=_createForOfIteratorHelper(this.elements.clouds_4_type);try{for(n.s();!(r=n.n()).done;){var a=r.value;a!==t&&(a.checked=!1)}}catch(e){n.e(e)}finally{n.f()}},q=function(e){var t=this.elements,r=t.clouds_4,n=t.clouds_4_height,a=t.clouds_4_type;"NCD"===e&&(r.value="",n.value=-1,a.forEach((function(e){return e.checked=!1})))},Z=function(e){this.elements.clouds_4.value=-1===+e?"":e},Y=function(e){this.elements.clouds_4_height.value=""===e?-1:+e},G=function(e,t){var r,n=_createForOfIteratorHelper(this.elements.clouds_3_type);try{for(n.s();!(r=n.n()).done;){var a=r.value;a!==t&&(a.checked=!1)}}catch(e){n.e(e)}finally{n.f()}},j=function(e){var t=this.elements,r=t.clouds_3,n=t.clouds_3_height,a=t.clouds_3_type;"NCD"===e&&(r.value="",n.value=-1,a.forEach((function(e){return e.checked=!1})))},D=function(e){this.elements.clouds_3.value=-1===+e?"":e},K=function(e){this.elements.clouds_3_height.value=""===e?-1:+e},F=function(e,t){var r,n=_createForOfIteratorHelper(this.elements.clouds_2_type);try{for(n.s();!(r=n.n()).done;){var a=r.value;a!==t&&(a.checked=!1)}}catch(e){n.e(e)}finally{n.f()}},B=function(e){var t=this.elements,r=t.clouds_2,n=t.clouds_2_height,a=t.clouds_2_type;"NCD"===e&&(r.value="",n.value=-1,a.forEach((function(e){return e.checked=!1})))},L=function(e){this.elements.clouds_2.value=-1===+e?"":e},W=function(e){this.elements.clouds_2_height.value=""===e?-1:+e},R=function(e,t){var r,n=_createForOfIteratorHelper(this.elements.clouds_1_type);try{for(n.s();!(r=n.n()).done;){var a=r.value;a!==t&&(a.checked=!1)}}catch(e){n.e(e)}finally{n.f()}},C=function(e){var t=this.elements,r=t.clouds_1,n=t.clouds_1_height,a=t.clouds_1_type;"NCD"===e&&(r.value="",n.value=-1,a.forEach((function(e){return e.checked=!1})))},A=function(e){this.elements.clouds_1.value=-1===+e?"":e},N=function(e){this.elements.clouds_1_height.value=""===e?-1:+e},M=function(e,t){var r,n,a,i=this.elements,o=i.clouds_1,l=i.clouds_1_coverage,u=i.clouds_1_height,s=i.clouds_1_type,c=this.elements,d=c.clouds_2,f=c.clouds_2_coverage,h=c.clouds_2_height,p=c.clouds_2_type,v=this.elements,m=v.clouds_3,y=v.clouds_3_coverage,_=v.clouds_3_height,U=v.clouds_3_type,g=this.elements,b=g.clouds_4,w=g.clouds_4_coverage,H=g.clouds_4_height,E=g.clouds_4_type;if(o===t||l===t||u===t||Array.from(s).includes(t))r=o.value.trim(),n=l.value,a=s;else if(d===t||f===t||h===t||Array.from(p).includes(t))r=d.value.trim(),n=f.value,a=p;else if(m===t||y===t||_===t||Array.from(U).includes(t))r=m.value.trim(),n=y.value,a=U;else{if(b!==t&&w!==t&&H!==t&&!Array.from(E).includes(t))throw new TypeError("Unable to find the required cloud layer");r=b.value.trim(),n=w.value,a=E}if(""===r)return"";var S="";S+=n,S+=r.padStart(3,"0");var k,x=_createForOfIteratorHelper(a);try{for(x.s();!(k=x.n()).done;){var I=k.value;I.checked&&(S+=I.value)}}catch(e){x.e(e)}finally{x.f()}return S},P=function(e){if(""===(e=e.trim()))return"";var t=e.substr(0,3).replace(/\D/,"");return+t>120?120:t},O=function(){var e=this.elements.weather.value.trim();return e.length>1?e:""},T=function(e){var t=this.elements.weather;""!==e&&(t.value+=e)},I=function(){var e=this.elements.visibility.value;return""===e?"":e.padStart(4,"0")},x=function(e,t){var r=this.elements,n=r.direction,a=r.speed,i=r.gust,o=this.elements,l=o.direction_range,u=o.speed_range,s=o.gust_range;switch(t){case l:n.value="-10"===e?"":parseInt(e);break;case u:a.value="-1"===e?"":parseInt(e);break;case s:i.value="-1"===e?"":parseInt(e)}},k=function(){var e=this.elements.units,t=this.elements,r=t.direction,n=t.speed,a=t.gust,i=this.elements,o=(i.direction_range,i.speed_range,i.gust_range,this.elements.vrb,"");if(""===r.value||""===n.value)return o;o+="".concat(r.value.padStart(3,"0")).concat(n.value.padStart(2,"0")),+a.value>+n.value&&(o+="G".concat(+a.value));var l,u=_createForOfIteratorHelper(e);try{for(u.s();!(l=u.n()).done;){var s=l.value;if(s.checked){o+="".concat(s.value);break}}}catch(e){u.e(e)}finally{u.f()}return o},S=function(){var e=this.elements,t=e.date,r=e.time,n=new Date,a=n.getUTCFullYear(),i=(n.getUTCMonth()+1).toString().padStart(2,"0"),o=n.getUTCDate().toString().padStart(2,"0"),l=n.getUTCHours().toString().padStart(2,"0"),u=n.getUTCMinutes().toString().padStart(2,"0");t.value="".concat(a,"-").concat(i,"-").concat(o),r.value="".concat(l,":").concat(u)},E=function(e){var t,r,n=this.elements,a=n.date,i=n.time,o=null===(t=a.value)||void 0===t||null===(t=t.split("-"))||void 0===t?void 0:t.at(-1),l=null===(r=i.value)||void 0===r||null===(r=r.split(":"))||void 0===r?void 0:r.join("");return o&&l?"".concat(o).concat(l,"Z"):""},H=function(){var e=this.elements.icao.value;return 4===e.length?e:""},w=function(){var e=this.elements,r=e.icao,n=e.icao_variants,a=r.value;n.innerHTML="";var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(l.startsWith(a)){var u=document.createElement("option");u.value=l,u.textContent=l,n.append(u)}}}catch(e){o.e(e)}finally{o.f()}},b=function(){var e,t="",r=_createForOfIteratorHelper(this.elements.type);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.checked){t+=n.value;break}}}catch(e){r.e(e)}finally{r.f()}var a=this.elements.cor;return t+=a.checked?" ".concat(a.value):""},U=function(e,t){var r=t.init;r&&(r.call(this,e),_assertClassBrand(u,this,d).call(this))},_=function(e,t){var r=t.checked;if(r){if("string"==typeof r&&(r=[r]),!Array.isArray(r))throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var n,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if("string"!=typeof i)throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var o,l=_createForOfIteratorHelper(e);try{for(l.s();!(o=l.n()).done;){var s=o.value;s instanceof HTMLInputElement&&["checkbox","radio"].includes(s.type)&&s.value===i&&(s.checked=!0,_assertClassBrand(u,this,y).call(this,s))}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}_assertClassBrand(u,this,d).call(this)}},y=function(e){var t=this.registry.get(e);this.result.set(t.name,e.value)},m=function(e,t){var r=this;e.forEach((function(e){return r.registry.set(e,t)}))},v=function(e,t){return{name:e,callbacks:{format:t.format,auxiliary:t.auxiliary,update:t.update}}},p=function(e){return Array.from(this.elements).filter((function(t){return t.name===e}))},h=function(e){this.result.has(e)||this.result.set(e,"")},f=function(e,t){if("string"!=typeof e||""===e)throw new TypeError("AMTK_Form::addHandler must be a non empty string")},d=function(){var e,t=[],r=_createForOfIteratorHelper(this.result);try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),a=(n[0],n[1].trim());""!==a&&t.push(a)}}catch(e){r.e(e)}finally{r.f()}var i=t.join(" ");this.output instanceof HTMLInputElement?this.output.value=i:this.output.textContent=i},c=function(e){var t=Array.from(this.elements).find((function(t){return t===e.target}));if(t&&("click"!==e.type||!(t instanceof HTMLInputElement&&_classPrivateFieldGet(o,this).includes(t.type)||t instanceof HTMLSelectElement))){var r=this.registry.get(t);if(r){var n=r.name,a=r.callbacks,i=a.format,l=a.auxiliary,s=a.update;if(i&&(t.value=i.call(this,t.value,t)),l&&l.call(this,t.value,t),s){var c=s.call(this,t.value,t);this.result.set(n,c)}_assertClassBrand(u,this,d).call(this)}}},t=["HKHB","HRYR","TAPT","UEEA","UEEE","UELL","UERP","UERR","UESO","UESS","UEST","UHBB","UHBI","UHBW","UHHH","UHKK","UHMA","UHMD","UHMM","UHMP","UHNN","UHOO","UHPP","UHSS","UHWW","UIAA","UIBB","UIBS","UIII","UITT","UIUU","ULAA","ULAM","ULAS","ULBC","ULDD","ULKK","ULLI","ULMK","ULMM","ULNN","ULOL","ULOO","ULPB","ULSS","ULWU","ULWW","UMKK","UNAA","UNBB","UNEE","UNII","UNKL","UNKS","UNKY","UNNT","UNOO","UNSS","UNTT","UNWW","UODD","UOHH","UOII","URKA","URKG","URKK","URMG","URML","URMM","URMN","URMO","URMT","URRR","URRY","URSS","URWA","URWI","URWW","USCC","USCM","USDD","USHU","USII","USKK","USMM","USMU","USNN","USNR","USPP","USRK","USRN","USRO","USRR","USSS","USTJ","USTO","USTR","USUU","UUBA","UUBB","UUBC","UUBI","UUBK","UUBP","UUBS","UUBT","UUDD","UUDL","UUEE","UUEM","UUOB","UUOK","UUOL","UUOO","UUOR","UUOT","UUWR","UUWW","UUYH","UUYI","UUYP","UUYS","UUYW","UUYY","UWGG","UWKB","UWKD","UWKE","UWKJ","UWKS","UWLW","UWOO","UWOR","UWPP","UWPS","UWSB","UWSS","UWUB","UWUF","UWUK","UWUU","UWWW"],r=[-1],n=0;n<800;n+=50)r.push(n);for(a=800;a<5e3;a+=100)r.push(a);for(i=5e3;i<1e4;i+=1e3)r.push(i);r.push(9999),o=new WeakMap,l=new WeakMap,u=new WeakSet,s=function(){return _createClass((function e(t){var r=this;_classCallCheck(this,e),_classPrivateMethodInitSpec(this,u),_classPrivateFieldInitSpec(this,o,["text","date","time","radio","checkbox"]),_classPrivateFieldInitSpec(this,l,["click","input"]),_defineProperty(this,"root",null),_defineProperty(this,"output",null),_defineProperty(this,"elements",null),_defineProperty(this,"forms",{input:null,output:null}),_defineProperty(this,"result",new Map),_defineProperty(this,"registry",new Map),this.root=document.querySelector(t),this.root||console.warn("can't find a form 'root' with selector ".concat(t));var n=Array.from(this.root.children).filter((function(e){return"FORM"===e.tagName}));this.forms.input=null==n?void 0:n.find((function(e){return e.name.match(/input/i)})),this.forms.output=null==n?void 0:n.find((function(e){return e.name.match(/output/i)})),this.forms.input||console.warn("can't find 'input' form in 'root' element ".concat(t)),this.forms.output||console.warn("can't find 'output' form in 'root' element ".concat(t)),this.elements=this.forms.input.elements,this.output=this.forms.output.elements.output,_classPrivateFieldGet(l,this).forEach((function(e){return r.forms.input.addEventListener(e,(function(e){return _assertClassBrand(u,r,c).call(r,e)}))}))}),[{key:"updateResult",value:function(){_assertClassBrand(u,this,d).call(this)}},{key:"addHandler",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_assertClassBrand(u,this,f).call(this,e,r),_assertClassBrand(u,this,h).call(this,e);var n=_assertClassBrand(u,this,p).call(this,null!==(t=r.element)&&void 0!==t?t:e),a=_assertClassBrand(u,this,v).call(this,e,r);_assertClassBrand(u,this,m).call(this,n,a),_assertClassBrand(u,this,_).call(this,n,r),_assertClassBrand(u,this,U).call(this,n,r)}}])}(),(g=new s("#amtk_metar_editor")).addHandler("type",{checked:"METAR",update:b}),g.addHandler("type",{element:"cor",update:b}),g.addHandler("icao",{format:function(e){return e.trim().toUpperCase().replace(/[^A-Z]/,"").substring(0,4)},auxiliary:w,update:H}),g.addHandler("icao",{element:"icao_variants",init:w,auxiliary:function(e,t){this.elements.icao.value=e},update:H}),g.addHandler("datetime",{element:"date",update:E}),g.addHandler("datetime",{element:"time",update:E}),g.addHandler("datetime",{element:"current",auxiliary:S,update:E}),g.addHandler("wind",{element:"calm",auxiliary:function(e,t){var r=this.elements.units,n=this.elements,a=n.direction,i=n.speed,o=n.gust,l=this.elements,u=l.direction_range,s=l.speed_range,c=l.gust_range;r.forEach((function(e){return e.disabled=t.checked})),a.disabled=t.checked,i.disabled=t.checked,o.disabled=t.checked,u.disabled=t.checked,s.disabled=t.checked,c.disabled=t.checked,t.checked&&(r.forEach((function(e){return e.checked="MPS"===e.value})),a.value="",i.value="",o.value="",u.value=-10,s.value=-1,c.value=-1)},update:function(e,t){return t.checked?"CALM":""}}),g.addHandler("wind",{element:"units",init:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.checked="MPS"===n.value}}catch(e){r.e(e)}finally{r.f()}},update:k}),g.addHandler("wind",{element:"direction",format:function(e){var t=parseInt(e.trim().replace(/\D/,"").substring(0,3));return isNaN(t)?"":t>360?360:t},auxiliary:function(e){this.elements.direction_range.value=""===e?-20:e},update:k}),g.addHandler("wind",{element:"speed",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.speed_range.value=e},update:k}),g.addHandler("wind",{element:"gust",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.gust_range.value=e},update:k}),g.addHandler("wind",{element:"direction_range",auxiliary:x,update:k}),g.addHandler("wind",{element:"speed_range",auxiliary:x,update:k}),g.addHandler("wind",{element:"gust_range",auxiliary:x,update:k}),g.addHandler("cavok",{element:"cavok",auxiliary:function(e,t){var r=this.result,n=this.elements,a=n.visibility,i=n.visibility_range,o=this.elements,l=o.weather,u=o.intensity,s=o.precipitation,c=o.phenomena,d=this.elements,f=d.clouds_1_coverage,h=d.clouds_1,p=d.clouds_1_type,v=d.clouds_1_height,m=this.elements,y=m.clouds_2_coverage,_=m.clouds_2,U=m.clouds_2_type,g=m.clouds_2_height,b=this.elements,w=b.clouds_3_coverage,H=b.clouds_3,E=b.clouds_3_type,S=b.clouds_3_height,k=this.elements,x=k.clouds_4_coverage,I=k.clouds_4,T=k.clouds_4_type,O=k.clouds_4_height;t.checked?(a.value="",i.value=-1,l.value="",u.forEach((function(e){return e.checked=!1})),s.value="",c.value="",f.value="NCD",h.value="",p.forEach((function(e){return e.checked=!1})),v.value=-1,y.value="NCD",_.value="",U.forEach((function(e){return e.checked=!1})),g.value=-1,w.value="NCD",H.value="",E.forEach((function(e){return e.checked=!1})),S.value=-1,x.value="NCD",I.value="",T.forEach((function(e){return e.checked=!1})),O.value=-1,a.disabled=!0,i.disabled=!0,l.disabled=!0,u.forEach((function(e){return e.disabled=!0})),s.disabled=!0,c.disabled=!0,f.disabled=!0,h.disabled=!0,p.forEach((function(e){return e.disabled=!0})),v.disabled=!0,y.disabled=!0,_.disabled=!0,U.forEach((function(e){return e.disabled=!0})),g.disabled=!0,w.disabled=!0,H.disabled=!0,E.forEach((function(e){return e.disabled=!0})),S.disabled=!0,x.disabled=!0,I.disabled=!0,T.forEach((function(e){return e.disabled=!0})),O.disabled=!0,r.set("visibility",""),r.set("weather",""),r.set("clouds_1",""),r.set("clouds_2",""),r.set("clouds_3",""),r.set("clouds_4","")):(a.disabled=!1,i.disabled=!1,l.disabled=!1,u.forEach((function(e){return e.disabled=!1})),s.disabled=!1,c.disabled=!1,f.disabled=!1,h.disabled=!1,p.forEach((function(e){return e.disabled=!1})),v.disabled=!1,y.disabled=!1,_.disabled=!1,U.forEach((function(e){return e.disabled=!1})),g.disabled=!1,w.disabled=!1,H.disabled=!1,E.forEach((function(e){return e.disabled=!1})),S.disabled=!1,x.disabled=!1,I.disabled=!1,T.forEach((function(e){return e.disabled=!1})),O.disabled=!1)},update:function(e,t){return t.checked?t.value:""}}),g.addHandler("visibility",{format:function(e){return e.trim().replace(/\D/,"").substring(0,4)},auxiliary:function(e){var t=this.elements.visibility_range;""===e&&(t.value=-1);var n=+e,a=n<800?50:n<5e3?100:n<9999?1e3:0,i=r.at(-1);if(a>0){var o=Math.floor(n/a)*a;i=r.indexOf(o)}t.value=i.toString()},update:I}),g.addHandler("visibility",{element:"visibility_range",init:function(e){var t=e[0];t.setAttribute("min",0),t.setAttribute("max",r.length-1),t.value=r[0]},auxiliary:function(e){e=+e,this.elements.visibility.value=0===e?"":r[e]},update:I}),g.addHandler("weather",{element:"weather",format:function(e){return e.toUpperCase().replace(/[^-+A-Z ]/,"")},auxiliary:function(e){var t,r=this.elements.intensity,n=e[0],a=_createForOfIteratorHelper(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.checked=i.value===n}}catch(e){a.e(e)}finally{a.f()}},update:O}),g.addHandler("weather",{element:"intensity",auxiliary:function(e,t){var r,n="",a=this.elements,i=a.intensity,o=a.weather,l=_createForOfIteratorHelper(i);try{for(l.s();!(r=l.n()).done;){var u=r.value;u!==t&&(u.checked=!1),u.checked&&(n=u.value)}}catch(e){l.e(e)}finally{l.f()}o.value=o.value.replace(/^[+-]/,""),n&&(o.value=n+o.value)},update:O}),g.addHandler("weather",{element:"precipitation",auxiliary:T,update:O}),g.addHandler("weather",{element:"phenomena",auxiliary:T,update:O}),g.addHandler("clouds_1",{element:"clouds_1",format:P,auxiliary:N,update:M}),g.addHandler("clouds_1",{element:"clouds_1_height",auxiliary:A,update:M}),g.addHandler("clouds_1",{element:"clouds_1_coverage",auxiliary:C,update:M}),g.addHandler("clouds_1",{element:"clouds_1_type",auxiliary:R,update:M}),g.addHandler("clouds_2",{element:"clouds_2",format:P,auxiliary:W,update:M}),g.addHandler("clouds_2",{element:"clouds_2_height",auxiliary:L,update:M}),g.addHandler("clouds_2",{element:"clouds_2_coverage",auxiliary:B,update:M}),g.addHandler("clouds_2",{element:"clouds_2_type",auxiliary:F,update:M}),g.addHandler("clouds_3",{element:"clouds_3",format:P,auxiliary:K,update:M}),g.addHandler("clouds_3",{element:"clouds_3_height",auxiliary:D,update:M}),g.addHandler("clouds_3",{element:"clouds_3_coverage",auxiliary:j,update:M}),g.addHandler("clouds_3",{element:"clouds_3_type",auxiliary:G,update:M}),g.addHandler("clouds_4",{element:"clouds_4",format:P,auxiliary:Y,update:M}),g.addHandler("clouds_4",{element:"clouds_4_height",auxiliary:Z,update:M}),g.addHandler("clouds_4",{element:"clouds_4_coverage",auxiliary:q,update:M}),g.addHandler("clouds_4",{element:"clouds_4_type",auxiliary:J,update:M}),g.addHandler("temperature",{element:"temperature",format:z,auxiliary:$,update:Q}),g.addHandler("temperature",{element:"dew_point",format:z,auxiliary:$,update:Q}),g.addHandler("temperature",{element:"temperature_range",auxiliary:V,update:Q}),g.addHandler("temperature",{element:"dew_point_range",auxiliary:V,update:Q}),g.addHandler("temperature",{element:"temperature_minus",auxiliary:X,update:Q}),g.addHandler("temperature",{element:"dew_point_minus",auxiliary:X,update:Q}),g.addHandler("pressure",{format:function(e){return""===(e=e.trim().replace(/\D/,"").substring(0,4))?"":+e>1100?1100:e},auxiliary:function(e){this.elements.pressure_range.value=""===e||+e<500?499:e},update:ee}),g.addHandler("pressure",{element:"pressure_range",auxiliary:function(e){this.elements.pressure.value=499===+e?"":e},update:ee}),g.addHandler("trend",{element:"trend_text",format:function(e){return e.trim().toUpperCase()},update:function(e){return e}});case 106:case"end":return e.stop()}}),e)})))();