!function(){"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.elements[e].checked=!1,t&&this.result.set(e,"")}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t){return e.get(n(e,t))}function i(e,t,n){a(e,t),t.set(e,n)}function l(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,u=[],o=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(o=(a=i.call(n)).done)&&(u.push(a.value),u.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{if(!o&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw r}}return u}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,n){if(e){if("string"==typeof e)return t(e,n);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}var h=new WeakMap,m=new WeakMap,v=new WeakSet,p=function(){return l((function e(t){var l,u,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(l=this,u=v),u.add(l),i(this,h,["text","date","time","radio","checkbox"]),i(this,m,["click","input"]),o(this,"root",null),o(this,"output",null),o(this,"elements",null),o(this,"forms",{input:null,output:null}),o(this,"result",new Map),o(this,"registry",new Map),this.root=document.querySelector(t),this.root||console.warn("can't find a form 'root' with selector ".concat(t));var c=Array.from(this.root.children).filter((function(e){return"FORM"===e.tagName}));this.forms.input=null==c?void 0:c.find((function(e){return e.name.match(/input/i)})),this.forms.output=null==c?void 0:c.find((function(e){return e.name.match(/output/i)})),this.forms.input||console.warn("can't find 'input' form in 'root' element ".concat(t)),this.forms.output||console.warn("can't find 'output' form in 'root' element ".concat(t)),this.elements=this.forms.input.elements,this.output=this.forms.output.elements.output,r(m,this).forEach((function(e){return s.forms.input.addEventListener(e,(function(e){return n(v,s,y).call(s,e)}))}))}),[{key:"updateResult",value:function(){n(v,this,_).call(this)}},{key:"addHandler",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(v,this,U).call(this,e,a),n(v,this,b).call(this,e);var r=n(v,this,g).call(this,null!==(t=a.element)&&void 0!==t?t:e),i=n(v,this,w).call(this,e,a);n(v,this,H).call(this,r,i),n(v,this,S).call(this,r,a),n(v,this,E).call(this,r,a)}}])}();function y(e){var t=Array.from(this.elements).find((function(t){return t===e.target}));if(t&&("click"!==e.type||!(t instanceof HTMLInputElement&&r(h,this).includes(t.type)||t instanceof HTMLSelectElement))){var a=this.registry.get(t);if(a){var i=a.name,l=a.callbacks,u=l.format,o=l.auxiliary,s=l.update;if(u&&(t.value=u.call(this,t.value,t)),o&&o.call(this,t.value,t),s){var c=s.call(this,t.value,t);this.result.set(i,c)}n(v,this,_).call(this)}}}function _(){var e,t=[],n=u(this.result);try{for(n.s();!(e=n.n()).done;){var a=s(e.value,2),r=(a[0],a[1].trim());""!==r&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}var i=t.join(" ");this.output instanceof HTMLInputElement?this.output.value=i:this.output.textContent=i}function U(e,t){if("string"!=typeof e||""===e)throw new TypeError("AMTK_Form::addHandler must be a non empty string")}function b(e){this.result.has(e)||this.result.set(e,"")}function g(e){return Array.from(this.elements).filter((function(t){return t.name===e}))}function w(e,t){return{name:e,callbacks:{format:t.format,auxiliary:t.auxiliary,update:t.update}}}function H(e,t){var n=this;e.forEach((function(e){return n.registry.set(e,t)}))}function k(e){var t=this.registry.get(e);this.result.set(t.name,e.value)}function S(e,t){var a=t.checked;if(a){if("string"==typeof a&&(a=[a]),!Array.isArray(a))throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var r,i=u(a);try{for(i.s();!(r=i.n()).done;){var l=r.value;if("string"!=typeof l)throw new TypeError("'checked' must be 'string', 'array of strings' or 'null'");var o,s=u(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;c instanceof HTMLInputElement&&["checkbox","radio"].includes(c.type)&&c.value===l&&(c.checked=!0,n(v,this,k).call(this,c))}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}n(v,this,_).call(this)}}function E(e,t){var a=t.init;a&&(a.call(this,e),n(v,this,_).call(this))}function x(){var e,t="",n=u(this.elements.type);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.checked){t+=a.value;break}}}catch(e){n.e(e)}finally{n.f()}var r=this.elements.cor;return t+=r.checked?" ".concat(r.value):""}var N=["HKHB","HRYR","TAPT","UEEA","UEEE","UELL","UERP","UERR","UESO","UESS","UEST","UHBB","UHBI","UHBW","UHHH","UHKK","UHMA","UHMD","UHMM","UHMP","UHNN","UHOO","UHPP","UHSS","UHWW","UIAA","UIBB","UIBS","UIII","UITT","UIUU","ULAA","ULAM","ULAS","ULBC","ULDD","ULKK","ULLI","ULMK","ULMM","ULNN","ULOL","ULOO","ULPB","ULSS","ULWU","ULWW","UMKK","UNAA","UNBB","UNEE","UNII","UNKL","UNKS","UNKY","UNNT","UNOO","UNSS","UNTT","UNWW","UODD","UOHH","UOII","URKA","URKG","URKK","URMG","URML","URMM","URMN","URMO","URMT","URRR","URRY","URSS","URWA","URWI","URWW","USCC","USCM","USDD","USHU","USII","USKK","USMM","USMU","USNN","USNR","USPP","USRK","USRN","USRO","USRR","USSS","USTJ","USTO","USTR","USUU","UUBA","UUBB","UUBC","UUBI","UUBK","UUBP","UUBS","UUBT","UUDD","UUDL","UUEE","UUEM","UUOB","UUOK","UUOL","UUOO","UUOR","UUOT","UUWR","UUWW","UUYH","UUYI","UUYP","UUYS","UUYW","UUYY","UWGG","UWKB","UWKD","UWKE","UWKJ","UWKS","UWLW","UWOO","UWOR","UWPP","UWPS","UWSB","UWSS","UWUB","UWUF","UWUK","UWUU","UWWW"];function M(){this.elements.icao.value=""}function T(){var e=this.elements.icao_variants,t=document.createElement("option");t.textContent="Не найдено",t.disabled=!0,t.selected=!0,e.options.length=0,e.add(t)}function W(){M.call(this),T.call(this)}function I(){var e=this.elements.icao,t=this.elements.icao_variants,n=e.value;if(0!==n.length){T.call(this);var a,r=u(N);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.startsWith(n)){var l=document.createElement("option");l.value=i,l.textContent=i,t.add(l)}}}catch(e){r.e(e)}finally{r.f()}}else W.call(this)}function A(){var e=this.elements.icao.value;return 4===e.length?e:""}function L(){var e,t,n=this.elements,a=n.date,r=n.time,i=null===(e=a.value)||void 0===e||null===(e=e.split("-"))||void 0===e?void 0:e.at(-1),l=null===(t=r.value)||void 0===t||null===(t=t.split(":"))||void 0===t?void 0:t.join("");return i&&l?"".concat(i).concat(l,"Z"):""}function R(){var e=this.elements,t=e.date,n=e.time,a=new Date,r=a.getUTCFullYear(),i=(a.getUTCMonth()+1).toString().padStart(2,"0"),l=a.getUTCDate().toString().padStart(2,"0"),u=a.getUTCHours().toString().padStart(2,"0"),o=a.getUTCMinutes().toString().padStart(2,"0");t.value="".concat(r,"-").concat(i,"-").concat(l),n.value="".concat(u,":").concat(o)}function O(t,n){n.checked&&(e.call(this,"cor",!0),e.call(this,"auto",!0))}function C(e){return this.elements.nil.checked?e:""}function D(t,n){n.checked&&e.call(this,"nil",!0)}function K(e){return this.elements.auto.checked?e:""}function B(){var e=this.elements,t=e.direction,n=e.speed,a=e.gust,r=this.elements;r.direction_range,r.speed_range,r.gust_range;var i=this.elements,l=i.units;i.vrb;var o="";if(""===t.value||""===n.value)return o;o+="".concat(t.value.padStart(3,"0")).concat(n.value.padStart(2,"0")),Number(a.value)>Number(n.value)&&(o+="G".concat(a.value));var s,c=u(l);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(d.checked){o+="".concat(d.value);break}}}catch(e){c.e(e)}finally{c.f()}return o}function P(e,t){var n=this.elements,a=n.direction,r=n.speed,i=n.gust,l=this.elements,u=l.direction_range,o=l.speed_range,s=l.gust_range;switch(t){case u:a.value="-10"===e?"":parseInt(e);break;case o:r.value="-1"===e?"":parseInt(e);break;case s:i.value="-1"===e?"":parseInt(e)}}for(var j=[-1],Y=0;Y<800;Y+=50)j.push(Y);for(var G=800;G<5e3;G+=100)j.push(G);for(var F=5e3;F<1e4;F+=1e3)j.push(F);function Z(){var e=this.elements.visibility.value;return""===e?"":e.padStart(4,"0")}function q(e){var t=this.elements.weather;""!==e&&(t.value+=e)}function J(){var e=this.elements.weather.value.trim();return e.length>1?e:""}function z(e){var t=e.trim();if(""===t)return"";var n=t.substr(0,3).replace(/\D/,"");return Number(n)>120?120:n}function Q(e,t){var n,a,r,i=this.elements,l=i.clouds_1,o=i.clouds_1_coverage,s=i.clouds_1_height,c=i.clouds_1_type,d=this.elements,f=d.clouds_2,h=d.clouds_2_coverage,m=d.clouds_2_height,v=d.clouds_2_type,p=this.elements,y=p.clouds_3,_=p.clouds_3_coverage,U=p.clouds_3_height,b=p.clouds_3_type,g=this.elements,w=g.clouds_4,H=g.clouds_4_coverage,k=g.clouds_4_height,S=g.clouds_4_type;if(l===t||o===t||s===t||Array.from(c).includes(t))n=l.value.trim(),a=o.value,r=c;else if(f===t||h===t||m===t||Array.from(v).includes(t))n=f.value.trim(),a=h.value,r=v;else if(y===t||_===t||U===t||Array.from(b).includes(t))n=y.value.trim(),a=_.value,r=b;else{if(w!==t&&H!==t&&k!==t&&!Array.from(S).includes(t))throw new TypeError("Unable to find the required cloud layer");n=w.value.trim(),a=H.value,r=S}if(""===n)return"";var E="";E+=a,E+=n.padStart(3,"0");var x,N=u(r);try{for(N.s();!(x=N.n()).done;){var M=x.value;M.checked&&(E+=M.value)}}catch(e){N.e(e)}finally{N.f()}return E}function $(e){this.elements.clouds_1_height.value=""===e?-1:+e}function V(e){this.elements.clouds_1.value=-1===+e?"":e}function X(e){var t=this.elements,n=t.clouds_1,a=t.clouds_1_height,r=t.clouds_1_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function ee(e,t){var n,a=u(this.elements.clouds_1_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function te(e){this.elements.clouds_2_height.value=""===e?-1:+e}function ne(e){this.elements.clouds_2.value=-1===+e?"":e}function ae(e){var t=this.elements,n=t.clouds_2,a=t.clouds_2_height,r=t.clouds_2_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function re(e,t){var n,a=u(this.elements.clouds_2_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function ie(e){this.elements.clouds_3_height.value=""===e?-1:+e}function le(e){this.elements.clouds_3.value=-1===+e?"":e}function ue(e){var t=this.elements,n=t.clouds_3,a=t.clouds_3_height,r=t.clouds_3_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function oe(e,t){var n,a=u(this.elements.clouds_3_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function se(e){this.elements.clouds_4_height.value=""===e?-1:+e}function ce(e){this.elements.clouds_4.value=-1===+e?"":e}function de(e){var t=this.elements,n=t.clouds_4,a=t.clouds_4_height,r=t.clouds_4_type;"NCD"===e&&(n.value="",a.value=-1,r.forEach((function(e){return e.checked=!1})))}function fe(e,t){var n,a=u(this.elements.clouds_4_type);try{for(a.s();!(n=a.n()).done;){var r=n.value;r!==t&&(r.checked=!1)}}catch(e){a.e(e)}finally{a.f()}}function he(e){if("-"===(e=e.trim()))return e;if(""===e||isNaN(e))return"";var t=+e.match(/-?\d?\d?/);return isNaN(t)&&e.startsWith("-")?"-":isNaN(t)?"":t<-80?-80:t>80?80:t}function me(){var e=this.elements,t=e.temperature,n=e.dew_point;if(["","-"].includes(t.value)&&["","-"].includes(n.value))return"";var a=isNaN(+t.value)?"":t.value,r=isNaN(+n.value)?"":n.value,i="";return i+=""===a?"/":a.replace("-","M"),i+="/",i+=""===r?"/":r.replace("-","M")}function ve(e,t){var n=this.elements,a=n.temperature,r=n.dew_point,i=this.elements,l=i.temperature_range,u=i.dew_point_range,o=this.elements,s=o.temperature_minus,c=o.dew_point_minus,d=null,f=null;switch(t){case a:d=l,f=s;break;case r:d=u,f=c;break;default:throw new TypeError("unknown element")}if(!(d instanceof HTMLInputElement))throw new TypeError("not an input element");if(!(f instanceof HTMLInputElement))throw new TypeError("minusElement is not a proper HTMLInputElement");d.value=""===e||"-"===e?-1:Math.abs(e),f.checked=e.startsWith("-")}function pe(e,t){var n,a=this.elements,r=a.temperature,i=a.dew_point,l=this.elements,u=l.temperature_range,o=l.dew_point_range,s=this.elements,c=s.temperature_minus,f=s.dew_point_minus,h="",m="";switch(t){case u:h=r,m=c;break;case o:h=i,m=f;break;default:throw new Error("unknown element")}if(!(h instanceof HTMLInputElement&&"value"in h))throw new TypeError("linkedElement must be a typeof HTMLInputElement(text), but got ".concat(d(h)));if(!(m instanceof HTMLInputElement)||"checkbox"!==(null===(n=m)||void 0===n?void 0:n.type))throw new TypeError("minusElement must be a typeof HTMLInputElement(checkbox), but got ".concat(d(m)));h.value=e<0?"":m.checked?"-".concat(e):e}function ye(e,t){var n=e<900||e>1100?"":e;return""===n?"":"Q".concat(n)}j.push(9999);var _e={type:function(e){e.addHandler("type",{checked:"METAR",update:x}),e.addHandler("type",{element:"cor",update:x})},icao:function(e){e.addHandler("icao",{format:function(e){return e.trim().toUpperCase().replace(/[^A-Z]/,"").substring(0,4)},auxiliary:I,update:A}),e.addHandler("icao",{element:"icao_variants",init:I,auxiliary:function(e){this.elements.icao.value=e},update:A})},datetime:function(e){e.addHandler("datetime",{element:"date",update:L}),e.addHandler("datetime",{element:"time",update:L}),e.addHandler("datetime",{element:"current",auxiliary:R,update:L})},nil:function(e){e.addHandler("nil",{auxiliary:O,update:C})},auto:function(e){e.addHandler("auto",{auxiliary:D,update:K})},wind:function(e){e.addHandler("wind",{element:"calm",auxiliary:function(e,t){var n=this.elements.units,a=this.elements,r=a.direction,i=a.speed,l=a.gust,u=this.elements,o=u.direction_range,s=u.speed_range,c=u.gust_range;n.forEach((function(e){return e.disabled=t.checked})),r.disabled=t.checked,i.disabled=t.checked,l.disabled=t.checked,o.disabled=t.checked,s.disabled=t.checked,c.disabled=t.checked,t.checked&&(n.forEach((function(e){return e.checked="MPS"===e.value})),r.value="",i.value="",l.value="",o.value=-10,s.value=-1,c.value=-1)},update:function(e,t){return t.checked?"CALM":""}}),e.addHandler("wind",{element:"units",init:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.checked="MPS"===a.value}}catch(e){n.e(e)}finally{n.f()}},update:B}),e.addHandler("wind",{element:"direction",format:function(e){var t=parseInt(e.trim().replace(/\D/,"").substring(0,3));return isNaN(t)?"":t>360?360:t},auxiliary:function(e){this.elements.direction_range.value=""===e?-20:e},update:B}),e.addHandler("wind",{element:"speed",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.speed_range.value=e},update:B}),e.addHandler("wind",{element:"gust",format:function(e){return parseInt(e.trim().replace(/\D/,"").substring(0,2))},auxiliary:function(e){this.elements.gust_range.value=e},update:B}),e.addHandler("wind",{element:"direction_range",auxiliary:P,update:B}),e.addHandler("wind",{element:"speed_range",auxiliary:P,update:B}),e.addHandler("wind",{element:"gust_range",auxiliary:P,update:B})},cavok:function(e){e.addHandler("cavok",{element:"cavok",auxiliary:function(e,t){var n=this.result,a=this.elements,r=a.visibility,i=a.visibility_range,l=this.elements,u=l.weather,o=l.intensity,s=l.precipitation,c=l.phenomena,d=this.elements,f=d.clouds_1_coverage,h=d.clouds_1,m=d.clouds_1_type,v=d.clouds_1_height,p=this.elements,y=p.clouds_2_coverage,_=p.clouds_2,U=p.clouds_2_type,b=p.clouds_2_height,g=this.elements,w=g.clouds_3_coverage,H=g.clouds_3,k=g.clouds_3_type,S=g.clouds_3_height,E=this.elements,x=E.clouds_4_coverage,N=E.clouds_4,M=E.clouds_4_type,T=E.clouds_4_height;t.checked?(r.value="",i.value=-1,u.value="",o.forEach((function(e){return e.checked=!1})),s.value="",c.value="",f.value="NCD",h.value="",m.forEach((function(e){return e.checked=!1})),v.value=-1,y.value="NCD",_.value="",U.forEach((function(e){return e.checked=!1})),b.value=-1,w.value="NCD",H.value="",k.forEach((function(e){return e.checked=!1})),S.value=-1,x.value="NCD",N.value="",M.forEach((function(e){return e.checked=!1})),T.value=-1,r.disabled=!0,i.disabled=!0,u.disabled=!0,o.forEach((function(e){return e.disabled=!0})),s.disabled=!0,c.disabled=!0,f.disabled=!0,h.disabled=!0,m.forEach((function(e){return e.disabled=!0})),v.disabled=!0,y.disabled=!0,_.disabled=!0,U.forEach((function(e){return e.disabled=!0})),b.disabled=!0,w.disabled=!0,H.disabled=!0,k.forEach((function(e){return e.disabled=!0})),S.disabled=!0,x.disabled=!0,N.disabled=!0,M.forEach((function(e){return e.disabled=!0})),T.disabled=!0,n.set("visibility",""),n.set("weather",""),n.set("clouds_1",""),n.set("clouds_2",""),n.set("clouds_3",""),n.set("clouds_4","")):(r.disabled=!1,i.disabled=!1,u.disabled=!1,o.forEach((function(e){return e.disabled=!1})),s.disabled=!1,c.disabled=!1,f.disabled=!1,h.disabled=!1,m.forEach((function(e){return e.disabled=!1})),v.disabled=!1,y.disabled=!1,_.disabled=!1,U.forEach((function(e){return e.disabled=!1})),b.disabled=!1,w.disabled=!1,H.disabled=!1,k.forEach((function(e){return e.disabled=!1})),S.disabled=!1,x.disabled=!1,N.disabled=!1,M.forEach((function(e){return e.disabled=!1})),T.disabled=!1)},update:function(e,t){return t.checked?t.value:""}})},visibility:function(e){e.addHandler("visibility",{format:function(e){return e.trim().replace(/\D/,"").substring(0,4)},auxiliary:function(e){var t=this.elements.visibility_range;""===e&&(t.value=-1);var n=Number(e),a=n<800?50:n<5e3?100:n<9999?1e3:0,r=j.at(-1);if(a>0){var i=Math.floor(n/a)*a;r=j.indexOf(i)}t.value=r.toString()},update:Z}),e.addHandler("visibility",{element:"visibility_range",init:function(e){var t=e[0];t.setAttribute("min",0),t.setAttribute("max",j.length-1),t.value=j[0]},auxiliary:function(e){e=+e,this.elements.visibility.value=0===e?"":j[e]},update:Z})},weather:function(e){e.addHandler("weather",{element:"weather",format:function(e){return e.toUpperCase().replace(/[^-+A-Z ]/,"")},auxiliary:function(e){var t,n=this.elements.intensity,a=e[0],r=u(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.checked=i.value===a}}catch(e){r.e(e)}finally{r.f()}},update:J}),e.addHandler("weather",{element:"intensity",auxiliary:function(e,t){var n,a="",r=this.elements,i=r.intensity,l=r.weather,o=u(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;s!==t&&(s.checked=!1),s.checked&&(a=s.value)}}catch(e){o.e(e)}finally{o.f()}l.value=l.value.replace(/^[+-]/,""),a&&(l.value=a+l.value)},update:J}),e.addHandler("weather",{element:"precipitation",auxiliary:q,update:J}),e.addHandler("weather",{element:"phenomena",auxiliary:q,update:J})},clouds:function(e){e.addHandler("clouds_1",{element:"clouds_1",format:z,auxiliary:$,update:Q}),e.addHandler("clouds_1",{element:"clouds_1_height",auxiliary:V,update:Q}),e.addHandler("clouds_1",{element:"clouds_1_coverage",auxiliary:X,update:Q}),e.addHandler("clouds_1",{element:"clouds_1_type",auxiliary:ee,update:Q}),e.addHandler("clouds_2",{element:"clouds_2",format:z,auxiliary:te,update:Q}),e.addHandler("clouds_2",{element:"clouds_2_height",auxiliary:ne,update:Q}),e.addHandler("clouds_2",{element:"clouds_2_coverage",auxiliary:ae,update:Q}),e.addHandler("clouds_2",{element:"clouds_2_type",auxiliary:re,update:Q}),e.addHandler("clouds_3",{element:"clouds_3",format:z,auxiliary:ie,update:Q}),e.addHandler("clouds_3",{element:"clouds_3_height",auxiliary:le,update:Q}),e.addHandler("clouds_3",{element:"clouds_3_coverage",auxiliary:ue,update:Q}),e.addHandler("clouds_3",{element:"clouds_3_type",auxiliary:oe,update:Q}),e.addHandler("clouds_4",{element:"clouds_4",format:z,auxiliary:se,update:Q}),e.addHandler("clouds_4",{element:"clouds_4_height",auxiliary:ce,update:Q}),e.addHandler("clouds_4",{element:"clouds_4_coverage",auxiliary:de,update:Q}),e.addHandler("clouds_4",{element:"clouds_4_type",auxiliary:fe,update:Q})},temperature:function(e){function t(e,t){var n=this.elements,a=n.temperature,r=n.dew_point,i="",l="";switch(t.checked&&(l+="-"),t.name){case"temperature_minus":i=a;break;case"dew_point_minus":i=r;break;default:throw TypeError("unknown element name")}l+=i.value.replace(/\D/,""),isNaN(l)||(i.value=l)}e.addHandler("temperature",{element:"temperature",format:he,auxiliary:ve,update:me}),e.addHandler("temperature",{element:"dew_point",format:he,auxiliary:ve,update:me}),e.addHandler("temperature",{element:"temperature_range",auxiliary:pe,update:me}),e.addHandler("temperature",{element:"dew_point_range",auxiliary:pe,update:me}),e.addHandler("temperature",{element:"temperature_minus",auxiliary:t,update:me}),e.addHandler("temperature",{element:"dew_point_minus",auxiliary:t,update:me})},pressure:function(e){e.addHandler("pressure",{format:function(e){var t=e.trim().replace(/\D/,"").substring(0,4);return""===t?"":Number(t)>1100?1100:t},auxiliary:function(e){this.elements.pressure_range.value=""===e||Number(e)<500?499:e},update:ye}),e.addHandler("pressure",{element:"pressure_range",auxiliary:function(e){this.elements.pressure.value=499===Number(e)?"":e},update:ye})},trend:function(e){e.addHandler("trend",{element:"trend_text",format:function(e){return e.trim().toUpperCase()},update:function(e){return e}})}},Ue=new p("#amtk_metar_editor");_e.type(Ue),_e.icao(Ue),_e.datetime(Ue),_e.nil(Ue),_e.auto(Ue),_e.wind(Ue),_e.cavok(Ue),_e.visibility(Ue),_e.weather(Ue),_e.clouds(Ue),_e.temperature(Ue),_e.pressure(Ue),_e.trend(Ue)}();